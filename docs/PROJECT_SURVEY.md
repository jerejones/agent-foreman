# Project Survey (AI-Enhanced)

## Summary

agent-foreman is a CLI harness designed to manage long-running coding tasks for AI agents. It implements a feature-driven workflow with external memory (JSON files) to track progress, dependencies, and session handoffs, ensuring agents stay focused and don't lose context.

> Analyzed by: gemini

## Tech Stack

| Aspect | Value |
|--------|-------|
| Language | TypeScript |
| Framework | Node.js (CLI) |
| Build Tool | tsc |
| Test Framework | vitest |
| Package Manager | npm |

## Directory Structure

### Entry Points
- `src/index.ts`

### Source Directories
- `src/`

## Modules

### CLI Core
- **Path**: `src/index.ts`
- **Status**: complete
- **Description**: Main entry point and command dispatcher using yargs

### Feature Management
- **Path**: `src/feature-list.ts`
- **Status**: complete
- **Description**: Manages feature backlog, status tracking, and JSON persistence

### Progress Tracking
- **Path**: `src/progress-log.ts`
- **Status**: complete
- **Description**: Handles append-only logging of session progress and handoffs

### AI Scanner
- **Path**: `src/ai-scanner.ts`
- **Status**: complete
- **Description**: Intelligent codebase analysis using external AI agents

### Agent Runtime
- **Path**: `src/agents.ts`
- **Status**: complete
- **Description**: Subprocess management for spawning Claude/Gemini/Codex tools

### Project Scanner
- **Path**: `src/project-scanner.ts`
- **Status**: complete
- **Description**: Basic file system and directory structure analysis

### Impact Analyzer
- **Path**: `src/impact-analyzer.ts`
- **Status**: complete
- **Description**: Analyzes dependency graphs to detect side effects of changes

## Discovered Features

| ID | Description | Module | Source | Confidence |
|----|-------------|--------|--------|------------|
| cli.init | Initialize new project harness or upgrade existing one | CLI Core | command | 100% |
| cli.survey | Generate AI-powered project survey report | CLI Core | command | 100% |
| cli.step | Select and display next feature to implement | CLI Core | command | 100% |
| cli.status | Show current project status and metrics | CLI Core | command | 100% |
| cli.impact | Analyze impact of changes on other features | CLI Core | command | 100% |
| feature.crud | Load, save, and update feature list JSON | Feature Management | exported function | 90% |
| feature.validation | JSON Schema validation for feature files | Feature Management | inferred | 90% |
| agent.spawn | Spawn AI agent subprocesses with safe defaults | Agent Runtime | exported function | 90% |
| scan.structure | Scan directory structure and identify entry points | Project Scanner | exported function | 90% |
| init.generate | Generate bootstrap shell scripts | CLI Core | exported function | 90% |

## Completion Assessment

**Overall: 90%**

**Notes:**
- Core functionality appears fully implemented
- Tests exist for all major modules
- CLI commands are wired up
- Project structure is well-defined

## Recommendations

- Add integration/E2E tests to verify the full CLI workflow on a real dummy project
- Implement a 'clean' command to remove harness files if needed
- Add configuration support for custom agent commands beyond the defaults

## Commands

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Run tests
npm test
```

---

*Generated by agent-foreman with AI analysis*